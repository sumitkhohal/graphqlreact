(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{59:function(e,a,t){e.exports=t(77)},67:function(e,a,t){},69:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n,l,r,c,o,m,u=t(2),i=t.n(u),s=t(56),g=t.n(s),p=(t(67),t(69),t(0)),d=t(12),E=function(){var e=localStorage.getItem("token"),a=Object(p.k)();return i.a.createElement("nav",null,i.a.createElement("div",{className:"nav-wrapper #673ab7 deep-purple"},i.a.createElement(d.b,{to:"/",className:"brand-logo left"},"Quote App"),i.a.createElement("ul",{id:"nav-mobile",className:"right"},e?i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(d.b,{to:"/profile"},"Profile")),i.a.createElement("li",null,i.a.createElement(d.b,{to:"/create"},"Create")),i.a.createElement("li",null,i.a.createElement("button",{className:"red btn",onClick:function(){localStorage.removeItem("token"),a("/login")}},"Logout"))):i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(d.b,{to:"/login"},"Login")),i.a.createElement("li",null,i.a.createElement(d.b,{to:"/signup"},"SignUp"))))))},b=t(92),h=t(29),f=t(90),v=Object(f.a)(n||(n=Object(h.a)(["\n  query getAllQuotes {\n    quotes {\n      name\n      by {\n        _id\n        firstName\n      }\n    }\n  }\n"]))),N=Object(f.a)(l||(l=Object(h.a)(["\n  query getMyProfile {\n    usr: myprofile {\n      firstName\n      lastName\n      email\n      quotes {\n        name\n      }\n    }\n  }\n"]))),O=Object(f.a)(r||(r=Object(h.a)(["\n  query getUserById($userId: ID!) {\n    user(_id: $userId) {\n      _id\n      firstName\n      lastName\n      email\n      quotes {\n        name\n      }\n    }\n  }\n"]))),j=function(){var e=Object(p.k)(),a=Object(b.a)(N,{fetchPolicy:"cache-and-network"}),t=a.loading,n=a.error,l=a.data;return localStorage.getItem("token")||e("/login"),t?i.a.createElement("h1",null,"Profile is Loading"):(n&&console.log(n.message),l&&console.log(l,"wefwef"),i.a.createElement("div",{className:"container my-container"},i.a.createElement("div",{className:"center-align"},i.a.createElement("img",{className:"circle profileImg",src:"https://robohash.org/".concat(l.usr.firstName,".png?size=200x200"),alt:"pic"}),i.a.createElement("h5",null,l.usr.firstName," ",l.usr.lastName),i.a.createElement("h6",null,"Email - ",l.usr.email)),i.a.createElement("h3",null,"Your Quotes"),l.usr.quotes.map(function(e){return i.a.createElement("blockquote",null,i.a.createElement("h6",null,e.name))})))},y=t(9),w=t(44),I=t(6),S=t(83),q=Object(f.a)(c||(c=Object(h.a)(["\n  mutation createUser($userNew: UserInput!) {\n    user: signUpUser(userNew: $userNew) {\n      firstName\n    }\n  }\n"]))),k=Object(f.a)(o||(o=Object(h.a)(["\n  mutation SignInUser($userSignIn: UserSignInInput!) {\n    user: signInUser(userSignIn: $userSignIn) {\n      token\n    }\n  }\n"]))),C=Object(f.a)(m||(m=Object(h.a)(["\n  mutation createQuote($name: String!) {\n    quote: createQuote(name: $name)\n  }\n"]))),L=function(){var e=Object(u.useState)({}),a=Object(I.a)(e,2),t=a[0],n=a[1],l=Object(p.k)(),r=Object(S.a)(k),c=Object(I.a)(r,2),o=c[0],m=c[1],s=m.loading,g=m.error,E=m.data;if(s)return i.a.createElement("h1",null,"Loading");E&&(localStorage.setItem("token",E.user.token),l("/"));var b=function(e){n(Object(w.a)({},t,Object(y.a)({},e.target.name,e.target.value)))};return i.a.createElement("div",{className:"container my-container"},g&&i.a.createElement("div",{className:"red card-panel"},g.message),i.a.createElement("h5",null,"LOGIN"),i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(t),o({variables:{userSignIn:t}})}},i.a.createElement("input",{type:"email",placeholder:"email",value:t.email,name:"email",onChange:b,required:!0}),i.a.createElement("input",{type:"password",placeholder:"password",value:t.password,name:"password",onChange:b,required:!0}),i.a.createElement(d.b,{to:"/signup"},i.a.createElement("p",null,"Don't have an account?")),i.a.createElement("button",{className:"btn #673ab7 deep-purple\n",type:"submit"},"Login")))},U=function(){var e=Object(u.useState)({}),a=Object(I.a)(e,2),t=a[0],n=a[1],l=Object(S.a)(q),r=Object(I.a)(l,2),c=r[0],o=r[1],m=o.data,s=o.loading,g=o.error;if(s)return i.a.createElement("h1",null,"Loading");var p=function(e){n(Object(w.a)({},t,Object(y.a)({},e.target.name,e.target.value)))};return i.a.createElement("div",{className:"container my-container"},g&&i.a.createElement("div",{className:"red card-panel"},g.message),m&&m.user&&i.a.createElement("div",{className:"green card-panel"},m.user.firstName," is SignedUp. Your can login now!"),i.a.createElement("h5",null,"SignUp"),i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c({variables:{userNew:t}})}},i.a.createElement("input",{type:"text",placeholder:"First Name",value:t.firstName,name:"firstName",onChange:p,required:!0}),i.a.createElement("input",{type:"text",placeholder:"Last Name",value:t.lastName,name:"lastName",onChange:p,required:!0}),i.a.createElement("input",{type:"email",placeholder:"email",value:t.email,name:"email",onChange:p,required:!0}),i.a.createElement("input",{type:"password",placeholder:"password",value:t.password,name:"password",onChange:p,required:!0}),i.a.createElement(d.b,{to:"/login"},i.a.createElement("p",null,"Already have an account?")),i.a.createElement("button",{className:"btn #673ab7 deep-purple",type:"submit"},"SignUp")))},P=function(){var e=Object(b.a)(v,{fetchPolicy:"cache-and-network"}),a=e.loading,t=e.error,n=e.data;return a?i.a.createElement("h1",null,"Loading"):(t&&console.log(t.message),0==n.quotes.length?i.a.createElement("h1",null,"No quotes are available"):i.a.createElement("div",{className:"container"},n.quotes.map(function(e){return i.a.createElement("blockquote",null,i.a.createElement("h6",null,e.name),i.a.createElement(d.b,{to:"/profile/".concat(e.by._id)},i.a.createElement("p",{className:"right-align"},"~",e.by.firstName)))})))},F=function(){var e=Object(u.useState)(""),a=Object(I.a)(e,2),t=a[0],n=a[1],l=Object(S.a)(C,{refetchQueries:["getAllQuotes","getMyProfile"]}),r=Object(I.a)(l,2),c=r[0],o=r[1],m=o.loading,s=o.error,g=o.data;if(m)return i.a.createElement("h1",null,"Loading");s&&console.log(s.message),g&&console.log(g);return i.a.createElement("div",{className:"container my-container"},s&&i.a.createElement("div",{className:"red card-panel"},s.message),g&&i.a.createElement("div",{className:"green card-panel"},g.quote),i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c({variables:{name:t}})}},i.a.createElement("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Write your quote here"}),i.a.createElement("button",{className:"btn green",type:"submit"},"create")))},Q=function(){var e=Object(p.m)().userId;console.log(e);var a=Object(b.a)(O,{variables:{userId:e}}),t=a.loading,n=a.error,l=a.data;return t?i.a.createElement("h1",null,"Profile is Loading"):(n&&console.log(n.message),l&&console.log(l,"wefwef"),i.a.createElement("div",{className:"container my-container"},i.a.createElement("div",{className:"center-align"},i.a.createElement("img",{className:"circle profileImg",src:"https://robohash.org/".concat(l.user.firstName,".png?size=200x200"),alt:"pic"}),i.a.createElement("h5",null,l.user.firstName," ",l.user.lastName),i.a.createElement("h6",null,"Email - ",l.user.email)),i.a.createElement("h3",null,"Your Quotes"),l.user.quotes.map(function(e){return i.a.createElement("blockquote",null,i.a.createElement("h6",null,e.name))})))},$=function(){return i.a.createElement("div",{className:"center"},i.a.createElement("h1",null,"Page Not Found"),i.a.createElement("iframe",{src:"https://giphy.com/embed/C21GGDOpKT6Z4VuXyn",width:"480",height:"480",frameBorder:"0",class:"giphy-embed",allowFullScreen:!0}))},D=[{path:"/",element:i.a.createElement(P,null)},{path:"/create",element:i.a.createElement(F,null)},{path:"/login",element:i.a.createElement(L,null)},{path:"/signup",element:i.a.createElement(U,null)},{path:"/profile",element:i.a.createElement(j,null)},{path:"/profile/:userId",element:i.a.createElement(Q,null)},{path:"*",element:i.a.createElement($,null)}];var x=function(){var e=Object(p.o)(D);return i.a.createElement("div",null,i.a.createElement(E,null),e)},A=function(e){e&&e instanceof Function&&t.e(1).then(t.bind(null,88)).then(function(a){var t=a.getCLS,n=a.getFID,l=a.getFCP,r=a.getLCP,c=a.getTTFB;t(e),n(e),l(e),r(e),c(e)})},B=t(89),_=t(91),z=t(87),G=new B.a({uri:"/graphql",cache:new _.a,headers:{authorization:localStorage.getItem("token")||""}});g.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(d.a,null,i.a.createElement(z.a,{client:G},i.a.createElement(x,null))))),A()}},[[59,3,2]]]);
//# sourceMappingURL=main.e056452d.chunk.js.map